<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8" />
	<title>Awesomplete Sandbox</title>
	<link rel="stylesheet" href="awesomplete-gh-pages/prism/prism.css" />
	<link rel="stylesheet" href="awesomplete-gh-pages/awesomplete.css" />
	<link rel="stylesheet" href="awesomplete-gh-pages/style.css" />

	<script src="awesomplete-gh-pages/awesomplete.js"></script>
	<script src="awesomplete-gh-pages/index.js"></script>

</head>
<body>

<header>
	<h1>Awesomplete</h1>
</header>


<!-- <section>
	<h2>Using Datalist</h2>
	<label>
		<input class="awesomplete" list="mylist" />
		<datalist id="mylist">
			<option>Ada</option>
			<option>Java</option>
			<option>JavaScript</option>
			<option>Brainfuck</option>
			<option>LOLCODE</option>
			<option>Node.js</option>
			<option>Ruby on Rails</option>
		</datalist>
	</label>
</section> -->

<section>
	<h2>Using Init Function</h2>
	<label>
		<input class="awesomplete" id="myinput"></input>
	</label>
</section>


<script type="text/javascript">
	
var input = document.getElementById("myinput");

// Show label but insert value into the input:
var initTest = new Awesomplete(input, {
	list: [
		{ label: "Belarus", value: "http://reddit.com/" },
		{ label: "China", value: "http://sanger.dk/" },
		{ label: "United States", value: "http://sanger.dk/" }
	],
	// data: function(item, input) {
	// 	return { label: item.label, value: item.value };
	// },
	// replace: function(text) {
	// 	// console.log(this.input.value);
	// 	// console.log(text);
	// 	this.input.value = text;
	// }

});

window.addEventListener("awesomplete-select", function(e) {
	// e.preventDefault();

	var arr = $(initTest)._list;
	var url = e.text.value;

	// function findUrl(arr) {
	// 	arr.forEach(function(item) {
	// 		// console.log(item.label);
	// 		// console.log(e.text.label);

	// 		if (e.text.label === item.label) {
	// 			// console.log(item.url);
	// 			url = item.url;
	// 		}
	// 	});
	// };
	// findUrl(arr);

	// console.log(e.text.value);
	// console.log((url)?'true':'false');
	
	if (url) {
		window.location.replace(url);
	}
}, false);

// $(input);

// .on("awesomplete-select", function(text, input) {
// 	console.log(text);
// 	console.log(input);
// });


</script>

</body>
</html>